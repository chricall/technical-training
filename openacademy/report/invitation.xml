<?xml version="1.0"?>
<odoo>
   <record id="invite_paper_format" model="report.paperformat">
        <field name="name">Invite Paperformat</field>
        <field name="format">custom</field>
        <field name="orientation">Portrait</field>
        <field name="margin_top">10</field>
        <field name="margin_bottom">5</field>
        <field name="margin_left">5</field>
        <field name="margin_right">5</field>
        <field name="header_spacing">5</field>
        <field name="page_height">100</field>
        <field name="page_width">210</field>
        <field name="dpi">90</field>
    </record>

    <report
        id="openacademy.session_invite"
        model="openacademy.session"
        string="Session Invite"
        report_type="qweb-pdf"
        name="openacademy.session_invite"
        file="openacademy.session_invite"
        attachment_use="False"
        attachment="(object.state in ('confirmed','done')) and
            ('Invite'+(object.number or '').replace('/','')+'.pdf')"
        print_report_name="'Session Invitation'"
        paperformat="openacademy.invite_paper_format"
    />
    
    <template id="session_invite">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.internal_layout">
                    <t t-foreach="o.attendee_ids" t-as="attendee">   
                        <div class="page" style="page-break-after: always">
                            <div class="row">
                                    <div class="col-6">
                                        <h2>Session Invitation</h2>
                                        <p>Session name: <span t-field="o.name"/></p>
                                        <p>Session Description: <span t-field="o.description"/></p>
                                        <p>Tutor: <span t-field="o.instructor_id.name"/></p>
                                    </div>
                                    <div class="col-6">

                                            <h3>Attendee Details</h3>
                                            <p>Name: <span t-field="attendee.name"/></p>
                                            <p>Address: <span t-field="attendee.contact_address"/></p>
                                            <img t-att-src="'/report/barcode/QR/%s' % attendee.id" width='200px' height='200px'/>
                                    </div>
                            </div>
                        
                        </div>
                    </t>
                </t>
            </t>
        </t>
    </template>
</odoo>